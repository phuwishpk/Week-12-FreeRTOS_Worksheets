## คำถามสำหรับวิเคราะห์

1.  **ความแตกต่างในการตอบสนองปุ่มระหว่างทั้งสองระบบคืออะไร?**
    * ใน **Single Task System**, การตอบสนองต่อการกดปุ่มจะ **ล่าช้ามาก** (คาดว่า 2-3 วินาที) เพราะโปรแกรมต้องทำงานอื่นๆ (เช่น กะพริบ LED1, ประมวลผลข้อมูลหนักๆ, ควบคุม LED2) ให้เสร็จก่อนในแต่ละรอบ แล้วจึงจะมาตรวจสอบสถานะปุ่ม.
    * ใน **Multitasking System**, การตอบสนองต่อการกดปุ่มจะ **รวดเร็วมาก** (คาดว่าน้อยกว่า 100ms) เพราะมีการสร้าง Task แยกต่างหากสำหรับตรวจสอบปุ่ม (`emergency_task`) และกำหนดให้มี **priority สูงสุด** ทำให้ Task นี้สามารถขัดจังหวะ (preempt) Task อื่นๆ เพื่อตอบสนองต่อการกดปุ่มได้ทันที.

2.  **ใน Single Task System งานไหนที่ทำให้การตอบสนองล่าช้า?**
    * งานที่ทำให้การตอบสนองล่าช้าหลักๆ คือ **Task 2: Process data (heavy computation)** ซึ่งมีการจำลองการคำนวณที่หนักหน่วง (loop 1,000,000 ครั้ง) และ **Task 1: Blink LED1** ที่มีการใช้ `vTaskDelay` รวม 1 วินาทีต่องาน. เนื่องจากทุกงานต้องทำตามลำดับ งานตรวจสอบปุ่ม (Task 4) จึงต้องรอดำเนินการหลังจากงานเหล่านี้เสร็จสิ้นในแต่ละรอบ.

3.  **ข้อดีของ Multitasking System ที่สังเกตได้คืออะไร?**
    * **การตอบสนองที่ดีขึ้น** (Improved Responsiveness): โดยเฉพาะสำหรับงานสำคัญหรืองานเร่งด่วน (เช่น `emergency_task`) เพราะสามารถให้ priority สูงกว่างานอื่นได้.
    * **การทำงานพร้อมกันเสมือน** (Apparent Concurrency): Task ต่างๆ (เช่น การกะพริบ LED, การประมวลผล, การตรวจสอบปุ่ม) ดูเหมือนทำงานไปพร้อมๆ กัน ทำให้ระบบโดยรวมมีประสิทธิภาพและใช้งาน CPU ได้ดีกว่า (Task หนึ่งรอ อีก Task หนึ่งทำงานได้).
    * **การแบ่งโปรแกรมเป็นส่วนๆ** (Modularity): การแยกการทำงานออกเป็น Task ย่อยๆ ทำให้โค้ดเป็นสัดส่วน เข้าใจและดูแลรักษาง่ายขึ้น.

4.  **มีข้อเสียของ Multitasking System ที่สังเกตได้หรือไม่?**
    * **ความซับซ้อนที่เพิ่มขึ้น**: การเขียนโปรแกรมแบบ Multitasking มีความซับซ้อนกว่า Single Task ทั้งในเรื่องการจัดการ Task, การสื่อสารระหว่าง Task (ยังไม่เห็นใน Lab นี้), และการจัดการทรัพยากรที่ใช้ร่วมกัน.
    * **ใช้ทรัพยากรมากขึ้น**: ระบบ Multitasking (โดยเฉพาะที่ใช้ RTOS) ต้องการหน่วยความจำ (RAM) มากขึ้นสำหรับ Task Control Block (TCB) และ Stack ของแต่ละ Task รวมถึงใช้พลังประมวลผล (CPU) สำหรับ Scheduler ในการสลับการทำงานระหว่าง Task (Context Switching Overhead).
    * **อาจเกิดปัญหาใหม่ๆ**: เช่น Race Conditions (การเข้าถึงทรัพยากรที่ใช้ร่วมกันพร้อมกัน), Deadlocks (Task ต่างรอทรัพยากรของกันและกัน), Priority Inversion (Task priority ต่ำกว่า block Task priority สูงกว่า) ซึ่งต้องมีการจัดการเพิ่มเติม. (แม้ปัญหานี้จะยังไม่แสดงชัดเจนใน Lab 1).