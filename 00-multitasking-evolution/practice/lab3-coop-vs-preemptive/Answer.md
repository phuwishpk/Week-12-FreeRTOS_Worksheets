## คำถามสำหรับวิเคราะห์

1.  **ระบบไหนมีเวลาตอบสนองดีกว่า? เพราะอะไร?**
    * **Preemptive Multitasking** มีเวลาตอบสนองดีกว่า โดยเฉพาะสำหรับงานที่มีลำดับความสำคัญ (priority) สูง. เพราะระบบปฏิบัติการ (RTOS) สามารถ **บังคับ** ให้ Task ที่มี priority ต่ำกว่าหยุดทำงานชั่วคราว เพื่อให้ Task ที่มี priority สูงกว่าได้ทำงานทันทีเมื่อพร้อมทำงาน. ส่วน Cooperative Multitasking ต้องรอให้ Task ที่ทำงานอยู่ **สละ CPU** เอง ซึ่งอาจทำให้ Task สำคัญรอการตอบสนองนานหาก Task ที่ทำงานอยู่ใช้เวลานานหรือไม่ยอมสละ CPU. ผลการทดลองใน Lab 3 คาดว่าจะแสดงให้เห็นว่า Preemptive มีเวลาตอบสนองต่อเหตุการณ์ฉุกเฉิน (กดปุ่ม) ที่เร็วกว่า Cooperative อย่างชัดเจน.

2.  **ข้อดีของ Cooperative Multitasking คืออะไร?**
    * **ใช้ทรัพยากรน้อย**: ต้องการหน่วยความจำ (RAM) และพลังประมวลผล (CPU) น้อยกว่า Preemptive เพราะมีความซับซ้อนในการจัดการน้อยกว่า.
    * **Context Switching Overhead ต่ำ**: การสลับ Task เกิดขึ้นเมื่อ Task สละ CPU เอง ทำให้เกิด overhead น้อยกว่าการถูกบังคับสลับโดย RTOS.
    * **ง่ายต่อการพัฒนาและ Debug**: โครงสร้างโปรแกรมมักจะง่ายกว่า เพราะการสลับ Task เกิดขึ้นในจุดที่คาดเดาได้.
    * **เหมาะสำหรับระบบทรัพยากรจำกัด**: เหมาะกับไมโครคอนโทรลเลอร์รุ่นเก่าหรือระบบที่ไม่ซับซ้อนมาก.

3.  **ข้อเสียของ Cooperative Multitasking คืออะไร?**
    * **การตอบสนองไม่แน่นอน (Poor/Non-deterministic Response Time)**: Task ที่มีความสำคัญสูงอาจต้องรอนาน หาก Task ที่ทำงานอยู่ใช้เวลานานหรือไม่ยอมสละ CPU (`yield`).
    * **Task หนึ่งสามารถทำให้ระบบหยุดทำงานได้**: หาก Task ใด Task หนึ่งมีข้อผิดพลาด (เช่น loop ไม่รู้จบ) หรือไม่ยอมสละ CPU จะทำให้ Task อื่นๆ ไม่ได้ทำงานเลย.
    * **ไม่เหมาะกับ Real-time systems ที่เข้มงวด**: ไม่สามารถรับประกันเวลาตอบสนองที่แน่นอนได้.
    * **ต้องอาศัยความร่วมมือ**: ประสิทธิภาพและความเสถียรของระบบขึ้นอยู่กับการเขียนโค้ดของทุก Task ให้มีการสละ CPU อย่างเหมาะสม.

4.  **ในสถานการณ์ใดที่ Cooperative จะดีกว่า Preemptive?**
    * ในระบบที่มี **ทรัพยากรจำกัดมาก** (เช่น RAM น้อย, CPU ช้า) ที่ไม่สามารถรองรับ overhead ของ Preemptive RTOS ได้.
    * ในระบบที่ไม่ต้องการ **การตอบสนองแบบ Real-time ที่เข้มงวด** หรือระบบที่ Task ต่างๆ ทำงานสั้นๆ และสละ CPU อย่างสม่ำเสมออยู่แล้ว.
    * เมื่อต้องการ **ความเรียบง่าย** ในการพัฒนาและ Debug สำหรับระบบที่ไม่ซับซ้อนมาก.

5.  **เหตุใด Preemptive จึงเหมาะสำหรับ Real-time systems?**
    * **รับประกันเวลาตอบสนอง (Deterministic Response Time)**: Preemptive scheduling ช่วยให้ Task ที่มี priority สูงสุดที่พร้อมทำงาน (Ready state) ได้ทำงานทันทีโดยการขัดจังหวะ (preempt) Task ที่มี priority ต่ำกว่า ทำให้สามารถคาดการณ์และรับประกันเวลาตอบสนองต่อเหตุการณ์สำคัญได้.
    * **จัดการ Priority ได้**: ระบบสามารถจัดลำดับความสำคัญของงานได้ Task ที่สำคัญกว่าจะได้ทำงานก่อนเสมอเมื่อต้องการ.
    * **ป้องกันการครอบครอง CPU โดย Task เดียว**: RTOS ควบคุมการสลับ Task ทำให้ไม่มี Task ใดสามารถยึดครอง CPU ได้ตลอดไป (ยกเว้น Task ที่ priority สูงสุด).
    * **เหมาะกับงานที่ซับซ้อน**: สามารถจัดการ Task ที่หลากหลายและมีความต้องการด้านเวลาที่แตกต่างกันได้อย่างมีประสิทธิภาพ.