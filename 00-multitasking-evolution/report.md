### Lab 1: เปรียบเทียบและวิเคราะห์ 

## การทดสอบ

1. **ทดสอบ Single Task**:
   - สังเกตการทำงานของ LED
   - กดปุ่มและสังเกตเวลาตอบสนอง
   - บันทึกเวลาตอบสนองเมื่อกดปุ่ม

2. **ทดสอบ Multitasking**:
   - สังเกตการทำงานของ LED (ทำงานพร้อมกัน)
   - กดปุ่มและสังเกตเวลาตอบสนอง
   - เปรียบเทียบกับระบบ Single Task

## คำถามสำหรับวิเคราะห์

1. ความแตกต่างในการตอบสนองปุ่มระหว่างทั้งสองระบบคืออะไร?
2. ใน Single Task System งานไหนที่ทำให้การตอบสนองล่าช้า?
3. ข้อดีของ Multitasking System ที่สังเกตได้คืออะไร?
4. มีข้อเสียของ Multitasking System ที่สังเกตได้หรือไม่?

## ผลการทดลองที่คาดหวัง

| ระบบ | เวลาตอบสนองปุ่ม | การทำงาน LED | CPU Utilization |
|------|-------------------|---------------|-----------------|
| Single Task | 2-3 วินาที | ทำงานเป็นลำดับ | 100% (blocking) |
| Multitasking | < 100ms | ทำงานพร้อมกัน | แบ้งกันใช้ |

### Lab 2: เปรียบเทียบและวิเคราะห์ 


## การทดสอบและวัดผล

### 1. การวัด CPU Utilization
- สังเกตการแสดงสถิติทุก 20 context switches
- บันทึกค่า CPU utilization และ overhead

### 2. การทดสอบ Time Slice ต่างๆ
- ทดสอบ time slice: 10ms, 25ms, 50ms, 100ms, 200ms
- เปรียบเทียบประสิทธิภาพ

### 3. การสังเกต LED Pattern
- LED1: Sensor task (งานเบา)
- LED2: Processing task (งานหนัก)
- LED3: Actuator task (งานปานกลาง)
- LED4: Display task (งานเบา)

## คำถามสำหรับวิเคราะห์

1. Time slice ขนาดไหนให้ประสิทธิภาพดีที่สุด? เพราะอะไร?
2. ปัญหาอะไรที่เกิดขึ้นเมื่อ time slice สั้นเกินไป?
3. ปัญหาอะไรที่เกิดขึ้นเมื่อ time slice ยาวเกินไป?
4. Context switching overhead คิดเป็นกี่เปอร์เซ็นต์ของเวลาทั้งหมด?
5. งานไหนที่ได้รับผลกระทบมากที่สุดจากการ time-sharing?

## การทดสอบและเปรียบเทียบ

### การทดสอบ Cooperative System
1. Build และ flash โปรแกรมโดย uncomment `test_cooperative_multitasking()`
2. กดปุ่มหลายครั้งและสังเกตเวลาตอบสนอง
3. บันทึกเวลาตอบสนองสูงสุด

### การทดสอบ Preemptive System
1. แก้ไขโค้ดโดย uncomment `test_preemptive_multitasking()`
2. Build และ flash ใหม่
3. กดปุ่มหลายครั้งและเปรียบเทียบเวลาตอบสนอง

## คำถามสำหรับวิเคราะห์

1. ระบบไหนมีเวลาตอบสนองดีกว่า? เพราะอะไร?
2. ข้อดีของ Cooperative Multitasking คืออะไร?
3. ข้อเสียของ Cooperative Multitasking คืออะไร?
4. ในสถานการณ์ใดที่ Cooperative จะดีกว่า Preemptive?
5. เหตุใด Preemptive จึงเหมาะสำหรับ Real-time systems?

## ผลการทดลองที่คาดหวัง

| ระบบ | เวลาตอบสนองเฉลี่ย | เวลาตอบสนองสูงสุด | ความซับซ้อน | Resource Usage |
|------|-------------------|------------------|-------------|----------------|
| Cooperative | 50-200ms | 500-1000ms | ต่ำ | น้อย |
| Preemptive | 5-20ms | 50ms | สูง | มาก |